% (Unofficial) University of Manchester Beamer Theme
% Based upon the official PowerPoint styling.
% -------------------------------------------
% Authors: <andrew.mundy@cs.man.ac.uk>

% With help from the UA beamer theme:
% http://nschloe.blogspot.de/2009/04/ua-beamer-theme_15.html

% Options
\DeclareOptionBeamer{compress}{\beamer@compresstrue}

\newif\ifbeamer@dark
\beamer@darkfalse
\DeclareOptionBeamer{dark}{\beamer@darktrue}

\newif\ifbeamer@cabin
\beamer@cabinfalse
\DeclareOptionBeamer{cabin}{\beamer@cabintrue}

\newif\ifbeamer@darktitle
\beamer@darktitlefalse
\DeclareOptionBeamer{darktitle}{\beamer@darktitletrue}

\newif\ifbeamer@framenumber
\beamer@framenumberfalse
\DeclareOptionBeamer{framenumber}{\beamer@framenumbertrue}

\newif\ifbeamer@totalframenumber
\beamer@totalframenumberfalse
\DeclareOptionBeamer{totalframenumber}{\beamer@totalframenumbertrue}

% Advanced colour options
\newif\ifbeamer@primaryset
\beamer@primarysetfalse
\DeclareOptionBeamer{primary}{\beamer@primarysettrue\colorlet{uomprimary}{#1}\typeout{PRIMARY COLOUR CHANGED to #1}}

\ProcessOptionsBeamer

% Required Packages
\ifbeamer@cabin
	\RequirePackage[sfdefault]{cabin}
	\RequirePackage[T1]{fontenc}
	\RequirePackage{setspace}
	\setstretch{1.2}
\fi
\RequirePackage{ifthen}
\RequirePackage{pgfcore}

% Additional work to allow for sections of dark frames
\newif\ifbeamer@darkframe
\beamer@darkframefalse
\newenvironment{darkframes}{%
	\beamer@darkframetrue	% Make the frame dark
%
	%% Set the colours for this group of frames
	\begingroup
	\setbeamercolor*{structure}{fg=white, bg=uompurple}
	\setbeamercolor*{title}{fg=white, bg=uompurple}
	\setbeamercolor*{normal text}{fg=white, bg=white}
	\usebeamercolor*{normal text}
}{%
	\endgroup
	\beamer@darkframefalse	% Undo this
}

\mode<presentation>

\usecolortheme{UniversityOfManchester}
\usefonttheme{UniversityOfManchester}
\useinnertheme{UniversityOfManchester}
\useoutertheme{UniversityOfManchester}

\mode
<all>
